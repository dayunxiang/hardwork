<!DOCTYPE html>  
<html>  
    <head>  
        <meta charset="UTF-8">  
        <title>echarts-圆环图</title>  
        <link rel="shortcut icon" href="../js/echarts-2.2.7/doc/asset/ico/favicon.png">  
        <script type="text/javascript" src="../js/echarts-2.2.7/doc/asset/js/jquery.min.js" ></script>  
        <script type="text/javascript" src="../js/echarts-2.2.7/doc/example/www2/js/echarts-all.js" ></script>  
        <style>  
            body,html{  
                width: 99%;  
                height: 99%;  
                font-family: "微软雅黑";  
                font-size: 12px;  
            }  
            #pie{  
                width: 100%;  
                height: 80%;  
            }  
        </style>  
        <script>  
            $(document).ready(function(){  
                randomData();  
            });  
              
            //产生随机数  
            function randomData()  
            {  
                var first = (Math.random()*1000+1000).toFixed(2);  
                var second = (Math.random()*1000+1000).toFixed(2);  
                var third = (Math.random()*1000+1000).toFixed(2);  
                var fourth = (Math.random()*1000+1000).toFixed(2);  
                var chartId = Math.floor(Math.random()*1000+10000);  
                var pieName = ['第一季度','第二季度','第三季度','第四季度'];  
                var pieValue = new Array();  
                pieValue.push(first);  
                pieValue.push(second);  
                pieValue.push(third);  
                pieValue.push(fourth);  
                $("#bodyDiv").empty().append("<div id='pie"+chartId+"' style='width:100%;height:100%;'></div>");  
                  
                buildChart(pieName,pieValue,chartId);  
            }  
              
            //生成圆环图  
            function buildChart(pieName,pieValue,chartId)  
            {  
                var pieData = new Array();  
                for(var i=0;i<pieName.length;i++)  
                {  
                    pieData.push(eval('(' + ("{'value':"+pieValue[i]+",'name':'"+pieName[i]+"'}") + ')'));  
                }  
                var pieChart = document.getElementById("pie"+chartId);  
                var echart = echarts.init(pieChart);  
                var option =  {  
                    title : {  
                        text: '一年四季收入比例',  
                        x:"center"  
                    },  
                    tooltip : {  
                        trigger: 'item',  
                        formatter: "{a} <br/>{b} : {c} ({d}%)"  
                    },  
                    legend: {  
                        orient: 'horizontal',  
                        x:"center",  
                        y:"bottom",  
                        data: pieName  
                    },  
                    series : [  
                        {  
                            name: '季度',  
                            type: 'pie',  
                            radius : ['50%','70%'],  
                            center: ['50%', '50%'],  
                            data:pieData,  
                            itemStyle: {  
                                emphasis: {  
                                    shadowBlur: 10,  
                                    shadowOffsetX: 0,  
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'  
                                }  
                            }  
                        }  
                    ]  
                };  
                  
                echart.setOption(option);  
            }  
              
            //window.setInterval(randomData(),1000);  
        </script>  
    </head>  
    <body id="bodyDiv">  
          
    </body>  
</html>  
<!-- <script>
    option = {
    color: ['rgba(67,136,236,1)','rgba(181,83,217,1)','rgba(255,192,41,1)','rgba(255,143,0,1)','rgba(0,211,116,1)'],
     title : {  
                        text: '防汛人员统计',  
                        x:"center"  
                    },
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
  
   series: [
            {
                name:'防汛人员统计',
                type: 'pie',
                radius: ['35%', '65%'],
                itemStyle: {
                    normal:{
                        label:{
                            show:true,
                            textStyle:{fontSize:"18"},
                            formatter:function(val){   //让series 中的文字进行换行
                                return val.name +"   :  "+ val.value;}
                        },
                        title:{
                          text:'防汛人员统计'
                        },
                        labelLine:{
                            show:true,
                            
                        }
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        
                    }
                },
                data: [
                    {value: 162, name: '抢险队伍'},
                    {value: 48, name: '定点定片人员'},
                    {value: 42, name: '泵站工作人员'},
                    {value: 11, name: '指挥调度人员'},
                    {value: 3, name: '系统操作人员'},
      
                ]
            }
        ],
};

</script> -->
